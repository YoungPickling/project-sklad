<div class="backdrop" ></div><!-- (click)="onClose()"-->
<div class="alert-box">
  <ng-template [ngIf]="isAddCompay() || isEditCompay()">
    <div class="box-title"><h1>{{ title }}</h1></div>
    <span class="loader" *ngIf="isLoading else regForm"></span>
    <ng-template #regForm>
      <div class="error-box" *ngIf="message && lastMessage !== message">{{ message }}</div>
      <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
        <!-- <div formGroup="companyData"> -->
        <div style="display:flex;flex-direction:column;">
          <label for="name">Company name</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            autocomplete="off" />
          <span 
            *ngIf="inputValidation('name')"
          >
            <span 
              *ngIf="checkInvalid('required', 'name'); else break1"
            >Please enter a valid name</span>
            <br #break1 />
          </span>
          <label for="description">Description</label>
          <textarea
            id="description"
            formControlName="description"
            rows="3"
            cols="50" 
          ></textarea>
          <span *ngIf="inputValidation('description')">
            <span 
              *ngIf="checkInvalid('required', 'description'); else break2"
            >Please enter a brief description</span>
            <br #break2 />
          </span>
        </div>
        <!-- </div> -->
        <div class="alert-box-actions">
          <button type="submit" class="button" [disabled]="!formGroup.valid">{{isAddCompay() ? 'Create' : 'Edit'}}</button>
          <button class="button" (click)="onClose()">Cancel</button>
        </div>
      </form>
    </ng-template>
  </ng-template>

  <ng-template [ngIf]="isAddCompay()">
    <p>{{ message }}</p>
    <div class="alert-box-actions">
      <button class="btn btn-primary" (click)="onClose()">Close</button>
    </div>
  </ng-template>

</div>
